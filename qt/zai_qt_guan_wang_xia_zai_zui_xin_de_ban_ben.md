# 在QT官网下载最新的版本


1.在QT官网下载最新的版本http://qt-project.org/downloads<br>
我下的是qt-opensource-linux-x86-5.3.1.run,在终端执行<br>

```sh
sudo chmod a+x qt-opensource-linux-x86-5.3.1.run
./qt-opensource-linux-x86-5.3.1.run
```

然后选择安装目录，默认是/home/username/QT5.3.1,我选择在/opt/QT5

2.安装成功后执行qmake -v 会发现找不到qmake命令，这是因为qmake没有加入到环境变量中<br>
在～/.bashrc中的最后添加<br>
```sh
export PATH="/opt/QT5/5.3/gcc/bin":$PATH
```

然后要将刚加入的环境变量生效，可以注销之后再登录，也可以执行

```sh
source ～/.bashrc
```

在执行qmake -v的话，会有

```sh
root@zwq:~# qmake -v
QMake version 3.0
Using Qt version 5.3.1 in /opt/QT5/5.3/gcc/lib
```

3.现在谈谈在终端中编译一个简单的qt程序
代码为

helloworld.cpp

```cpp
#include <QtWidgets/QApplication>
#include <QtWidgets/QLabel>

int main(int argc, char* argv[])
{
    QApplication app(argc, argv);
    QLabel hello("<center>Welcome to my first WikiHow Qt program</center>");
    hello.setWindowTitle("My First WikiHow Qt Program");
    hello.resize(400, 400);
    hello.show();
    return app.exec();
}

```
 
使用qmake命令编译
```sh
qmake -project
qmake
make
```

- helloworld.pro

```sh
######################################################################
# Automatically generated by qmake (3.0) ?? 1? 22 16:13:26 2017
######################################################################

TEMPLATE = app
TARGET = test_qt
INCLUDEPATH += .

# Input
SOURCES += test_qt.cpp
QT += widgets

```

得到-lGL的链接错误，安装mesa

apt-get install libgl1-mesa-dev

但是得到了一些新的链接错误：


```sh
main.o: In function `main':
main.cc:(.text.startup+0x27): undefined reference to `QApplication::QApplication(int&, char**, int)'
main.cc:(.text.startup+0x56): undefined reference to `QLabel::QLabel(QString const&, QWidget*, QFlags<Qt::WindowType>)'
main.cc:(.text.startup+0x84): undefined reference to `QWidget::setWindowTitle(QString const&)'
main.cc:(.text.startup+0xa9): undefined reference to `QWidget::resize(QSize const&)'
main.cc:(.text.startup+0xb1): undefined reference to `QWidget::show()'
main.cc:(.text.startup+0xb6): undefined reference to `QApplication::exec()'
main.cc:(.text.startup+0xc1): undefined reference to `QLabel::~QLabel()'
main.cc:(.text.startup+0xc9): undefined reference to `QApplication::~QApplication()'
main.cc:(.text.startup+0xe5): undefined reference to `QApplication::~QApplication()'
main.cc:(.text.startup+0x106): undefined reference to `QLabel::~QLabel()'
main.cc:(.text.startup+0x118): undefined reference to `QLabel::~QLabel()'
collect2: error: ld returned 1 exit status
make: *** [helloworld] Error 1
```

在 helloworld.pro文件中添加一行：


```sh
QT+=widgets
```

重新编译。好了。


再次make就可以编译成功了