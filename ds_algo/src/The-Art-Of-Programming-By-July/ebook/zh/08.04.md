## 操作系統

**1**

請問死鎖的條件是什麼？以及如何處理死鎖問題？

解答：互斥條件（Mutual exclusion）：
- 1、資源不能被共享，只能由一個進程使用。
- 2、請求與保持條件（Hold and wait）：已經得到資源的進程可以再次申請新的資源。
- 3、非剝奪條件（No pre-emption）：已經分配的資源不能從相應的進程中被強制地剝奪。
- 4、循環等待條件（Circular wait）：系統中若干進程組成環路，該環路中每個進程都在等待相鄰進程正佔用的資源。

如何處理死鎖問題：
- 1、忽略該問題。例如鴕鳥算法，該算法可以應用在極少發生死鎖的的情況下。為什麼叫鴕鳥算法呢，因為傳說中鴕鳥看到危險就把頭埋在地底下，可能鴕鳥覺得看不到危險也就沒危險了吧。跟掩耳盜鈴有點像。
- 2、檢測死鎖並且恢復。
- 3、仔細地對資源進行動態分配，以避免死鎖。
- 4、通過破除死鎖四個必要條件之一，來防止死鎖產生。


**2**

請闡述動態鏈接庫與靜態鏈接庫的區別。

解答：靜態鏈接庫是.lib格式的文件，一般在工程的設置界面加入工程中，程序編譯時會把lib文件的代碼加入你的程序中因此會增加代碼大小，你的程序一運行lib代碼強制被裝入你程序的運行空間，不能手動移除lib代碼。

動態鏈接庫是程序運行時動態裝入內存的模塊，格式*.dll，在程序運行時可以隨意加載和移除，節省內存空間。
  
在大型的軟件項目中一般要實現很多功能，如果把所有單獨的功能寫成一個個lib文件的話，程序運行的時候要佔用很大的內存空間，導致運行緩慢；但是如果將功能寫成dll文件，就可以在用到該功能的時候調用功能對應的dll文件，不用這個功能時將dll文件移除內存，這樣可以節省內存空間。
  
**3**

請闡述進程與線程的區別。

解答：

 - ①從概念上：
- 進程：一個程序對一個數據集的動態執行過程，是分配資源的基本單位。
- 線程：一個進程內的基本調度單位。線程的劃分尺度小於進程，一個進程包含一個或者更多的線程。
 - ②從執行過程中來看：
- 進程：擁有獨立的內存單元，而多個線程共享內存，從而提高了應用程序的運行效率。
- 線程：每一個獨立的線程，都有一個程序運行的入口、順序執行序列、和程序的出口。但是線程不能夠獨立的執行，必須依存在應用程序中，由應用程序提供多個線程執行控制。
 - ③從邏輯角度來看（重要區別）：
- 多線程的意義在於一個應用程序中，有多個執行部分可以同時執行。但是，操作系統並沒有將多個線程看做多個獨立的應用，來實現進程的調度和管理及資源分配。


**4**

用戶進程間通信主要哪幾種方式？

解答：主要有以下6種：

 - 1、管道：管道是單向的、先進先出的、無結構的、固定大小的字節流，它把一個進程的標準輸出和另一個進程的標準輸入連接在一起。寫進程在管道的尾端寫入數據，讀進程在管道的道端讀出數據。數據讀出後將從管道中移走，其它讀進程都不能再讀到這些數據。管道提供了簡單的流控制機制。進程試圖讀空管道時，在有數據寫入管道前，進程將一直阻塞。同樣地，管道已經滿時，進程再試圖寫管道，在其它進程從管道中移走數據之前，寫進程將一直阻塞。
- 無名管道：管道是一種半雙工的通信方式，數據只能單向流動，而且只能在具有親緣關係（通常是指父子進程關係）的進程間使用。
- 命名管道：命名管道也是半雙工的通信方式，在文件系統中作為一個特殊的設備文件而存在，但是它允許無親緣關係進程間的通信。當共享管道的進程執行完所有的I/O操作以後，命名管道將繼續保存在文件系統中以便以後使用。
 - 2、信號量：信號量是一個計數器，可以用來控制多個進程對共享資源的訪問。它常作為一種鎖機制，防止某進程正在訪問共享資源時，其它進程也訪問該資源。因此，主要作為進程間以及同一進程內不同線程之間的同步手段。
 - 3、消息隊列：消息隊列是由消息的鏈表，存放在內核中並由消息隊列標識符標識。消息隊列克服了信號傳遞信息少、管道只能承載無格式字節流以及緩衝區大小受限等缺點。
 - 4、信號：信號是一種比較複雜的通信方式，用於通知接收進程某個事件已經發生。
 - 5、共享內存：共享內存就是映射一段能被其它進程所訪問的內存，這段共享內存由一個進程創建，但多個進程都可以訪問。共享內存是最快的IPC方式，它是針對其它進程間通信方式運行效率低而專門設計的。它往往與其它通信機制（如信號量）配合使用，來實現進程間的同步和通信。
 - 6、套接字：套接字也是一種進程間通信機制，與其它通信機制不同的是，它可用於不同機器間的進程通信。
