## 1.1 旋轉字符串

### 題目描述

給定一個字符串，要求把字符串前面的若干個字符移動到字符串的尾部，如把字符串“abcdef”前面的2個字符'a'和'b'移動到字符串的尾部，使得原字符串變成字符串“cdefab”。請寫一個函數完成此功能，要求對長度為n的字符串操作的時間複雜度為 O(n)，空間複雜度為 O(1)。


### 分析與解法
#### 解法一：暴力移位法

初看此題，可能最先想到的方法是按照題目所要求的，把需要移動的字符一個一個地移動到字符串的尾部，如此我們可以實現一個函數`LeftShiftOne(char* s, int n)` ，以完成移動一個字符到字符串尾部的功能，代碼如下所示：
```c
void LeftShiftOne(char* s, int n)
{
    char t = s[0];  //保存第一個字符
    for (int i = 1; i < n; i++)
    {
        s[i - 1] = s[i];
    }
    s[n - 1] = t;
}
```

因此，若要把字符串開頭的m個字符移動到字符串的尾部，則可以如下操作：

```c
void LeftRotateString(char* s, int n, int m)
{
    while (m--)
    {
        LeftShiftOne(s, n);
    }
}
```
下面，我們來分析一下這種方法的時間複雜度和空間複雜度。

針對長度為n的字符串來說，假設需要移動m個字符到字符串的尾部，那麼總共需要 m*n 次操作，同時設立一個變量保存第一個字符，如此，時間複雜度為O(m * n)，空間複雜度為O(1)，空間複雜度符合題目要求，但時間複雜度不符合，所以，我們得需要尋找其他更好的辦法來降低時間複雜度。

#### 解法二：三步反轉法

對於這個問題，換一個角度思考一下。

將一個字符串分成X和Y兩個部分，在每部分字符串上定義反轉操作，如X^T，即把X的所有字符反轉（如，X="abc"，那麼X^T="cba"），那麼就得到下面的結論：(X^TY^T)^T=YX，顯然就解決了字符串的反轉問題。

例如，字符串 abcdef ，若要讓def翻轉到abc的前頭，只要按照下述3個步驟操作即可：

1. 首先將原字符串分為兩個部分，即X:abc，Y:def；
2. 將X反轉，X->X^T，即得：abc->cba；將Y反轉，Y->Y^T，即得：def->fed。
3. 反轉上述步驟得到的結果字符串X^TY^T，即反轉字符串cbafed的兩部分（cba和fed）給予反轉，cbafed得到defabc，形式化表示為(X^TY^T)^T=YX，這就實現了整個反轉。

如下圖所示：

![](../images/1/3.jpeg)

代碼則可以這麼寫：
```c
void ReverseString(char* s,int from,int to)
{
    while (from < to)
    {
        char t = s[from];
        s[from++] = s[to];
        s[to--] = t;
    }
}

void LeftRotateString(char* s,int n,int m)
{
    m %= n;               //若要左移動大於n位，那麼和%n 是等價的
    ReverseString(s, 0, m - 1); //反轉[0..m - 1]，套用到上面舉的例子中，就是X->X^T，即 abc->cba
    ReverseString(s, m, n - 1); //反轉[m..n - 1]，例如Y->Y^T，即 def->fed
    ReverseString(s, 0, n - 1); //反轉[0..n - 1]，即如整個反轉，(X^TY^T)^T=YX，即 cbafed->defabc。
}
```
這就是把字符串分為兩個部分，先各自反轉再整體反轉的方法，時間複雜度為O(n)，空間複雜度為O(1)，達到了題目的要求。

### 舉一反三

1、鏈表翻轉。給出一個鏈表和一個數k，比如，鏈表為1→2→3→4→5→6，k=2，則翻轉後2→1→6→5→4→3，若k=3，翻轉後3→2→1→6→5→4，若k=4，翻轉後4→3→2→1→6→5，用程序實現。

2、編寫程序，在原字符串中把字符串尾部的m個字符移動到字符串的頭部，要求：長度為n的字符串操作時間複雜度為O(n)，空間複雜度為O(1)。
例如，原字符串為”Ilovebaofeng”，m=7，輸出結果為：”baofengIlove”。

3、單詞翻轉。輸入一個英文句子，翻轉句子中單詞的順序，但單詞內字符的順序不變，句子中單詞以空格符隔開。為簡單起見，標點符號和普通字母一樣處理。例如，輸入“I am a student.”，則輸出“student. a am I”。
